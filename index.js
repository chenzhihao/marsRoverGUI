webpackJsonp([1],{0:function(e,t,n){e.exports=n(170)},53:function(e,t){function n(){function e(e){n.each(e.split(" "),function(e){t[e]=!!e})}var t={},r={},o="";return n.each([].slice.call(arguments),function(t){switch(n.getType(t)){case"string":case"number":e(t);break;case"array":e(n.apply(null,t));break;case"element":e(n(t.className||""));break;case"nodelist":e(n.apply(null,[].slice.call(t)));break;case"jquery":e(n.apply(null,t.get()));break;case"object":r=n.extend(r,t)}}),t=n.extend(t,r),n.each(t,function(e,t){e&&(o+=" "+t)}),o.substr(1)}n.setTo=function(e){var t=n.getType(e);return"element"===t&&(e=[e]),"jquery"===t&&(e=e.get()),"nodelist"===t&&(e=[].slice.call(e)),function(){var t=n.apply(null,arguments);n.each(e,function(e){e.className=t})}},n.each=function(e,t){var r=n.getType(e);if("array"===r)for(var o=0;o<e.length;o++)t(e[o],o);if("object"===r)for(var a in e)t(e[a],a)},n.getType=function(e){var t=Object.prototype.toString.call(e).slice(8,-1).toLowerCase();return"object"===t&&e.jquery?"jquery":t.indexOf("element")>1?"element":t},n.extend=function(e,t){var r={},o=[e,t];return n.each(o,function(e){n.each(e,function(t,n){e.hasOwnProperty(n)&&(r[n]=t)})}),r},"undefined"!=typeof e&&e.exports&&(e.exports=n)},79:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HEIGHT=t.WIDTH=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(25),l=e(u),c=n(90),s=e(c),f=n(186),p=e(f),d=t.WIDTH=500,v=t.HEIGHT=500,h=function(e){function t(e,n){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return a(t,e),i(t,[{key:"drawGrid",value:function(e,t,n){if(this.canvas){var r=this.canvas.getContext("2d");r.clearRect(0,0,d,v),r.strokeStyle=e,r.lineWidth=.5;for(var o=t+.5;o<r.canvas.width;o+=t)r.beginPath(),r.moveTo(o,0),r.lineTo(o,r.canvas.height),r.stroke();for(var a=n+.5;a<r.canvas.height;a+=n)r.beginPath(),r.moveTo(0,a),r.lineTo(r.canvas.width,a),r.stroke()}}},{key:"componentDidMount",value:function(){this.drawGrid("rgba(255, 255, 255, 0.5)",d/this.props.plateauXCoordinate,v/this.props.plateauYCoordinate)}},{key:"componentDidUpdate",value:function(){this.drawGrid("rgba(255, 255, 255, 0.5)",d/this.props.plateauXCoordinate,v/this.props.plateauYCoordinate)}},{key:"render",value:function(){var e=this;return l.default.createElement("div",{style:{position:"relative"}},l.default.createElement("img",{style:{position:"absolute",top:-20,left:-20},src:p.default,alt:"corner"}),l.default.createElement("canvas",{style:{background:"url("+s.default+")",backgroundSize:"100% 100%",borderRadius:"6px",boxShadow:"0 2px 18px 2px #39211D"},ref:function(t){e.canvas=t},width:d,height:v}),l.default.createElement("img",{style:{position:"absolute",bottom:-15,right:-18,transform:"rotate(-180deg)"},src:p.default,alt:"corner"}))}}]),t}(u.Component);h.propTypes={plateauXCoordinate:u.PropTypes.number.isRequired,plateauYCoordinate:u.PropTypes.number.isRequired},t.default=h}).call(this)}finally{}},86:function(e,t){},87:function(e,t){e.exports={main:"__main__1jQaZ",gridWrapper:"__gridWrapper__28qz8",controllerInputWrapper:"__controllerInputWrapper__ktM_b",controllerInputPadding:"__controllerInputPadding__2Q7WR",controllerInput:"__controllerInput__3hJnM",controllerOutput:"__controllerOutput__1OGiJ",btn:"__btn__21Ef-"}},88:function(e,t){e.exports={rover:"__rover__lC23n",N:"__N__2rZtH",S:"__S__P5eGI",E:"__E__1zg9T",W:"__W__1xlX9"}},89:function(e,t,n){e.exports=n.p+"./assets/images/3AOmMF7.jpg"},90:function(e,t,n){e.exports=n.p+"./assets/images/21atHZh.jpg"},91:function(e,t,n){e.exports=n.p+"./assets/images/3ff5vFF.svg"},168:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(25),l=e(u),c=n(79),s=e(c),f=n(169),p=e(f),d=n(89),v=e(d),h=n(172),y=e(h);n(86);var b=n(53),m=e(b),_=n(87),g=e(_),I=function(e){function t(e,n){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.state={roverInfos:[],controllerInput:"",controllerOutput:"",canExecute:!0,plateau:{xCoordinate:1,yCoordinate:1}},a}return a(t,e),i(t,[{key:"reset",value:function(){this.setState({roverInfos:[],controllerOutput:"",plateau:{xCoordinate:1,yCoordinate:1}})}},{key:"render",value:function(){var e=this;return l.default.createElement("div",{className:(0,m.default)(g.default.main),style:{background:"#120E0D url("+v.default+") center center"}},l.default.createElement("div",{className:(0,m.default)(g.default.gridWrapper)},l.default.createElement("div",{className:(0,m.default)(g.default.controllerOutput)},l.default.createElement("span",null,"OUTPUT:"),l.default.createElement("pre",null,this.state.controllerOutput)),l.default.createElement(s.default,{plateauXCoordinate:this.state.plateau.xCoordinate,plateauYCoordinate:this.state.plateau.yCoordinate}),this.state.roverInfos.map(function(t,n){return l.default.createElement(p.default,{rover:t.rover,key:n,plateauXCoordinate:e.state.plateau.xCoordinate,plateauYCoordinate:e.state.plateau.yCoordinate})})),l.default.createElement("div",{className:(0,m.default)(g.default.controllerInputWrapper)},l.default.createElement("div",{className:(0,m.default)(g.default.controllerInputPadding)},l.default.createElement("textarea",{className:(0,m.default)(g.default.controllerInput),value:this.state.controllerInput,placeholder:"Input your instruction here please.",onChange:function(t){e.setState({controllerInput:t.target.value})}})),l.default.createElement("div",null,l.default.createElement("button",{disabled:!this.state.canExecute,className:(0,m.default)(g.default.btn),onClick:function(t){e.executeInstruction(e.state.controllerInput)}}," ",this.state.canExecute?"Execute":"Executing"))))}},{key:"executeInstruction",value:function(e){var t=this,n=new y.default;this.reset(),this.setState({canExecute:!1});try{n.executeInstructions(e,function(e,n){t.setState({roverInfos:e,plateau:n})}).then(function(e){var r=n.printRoversLocation();t.setState({controllerOutput:r,canExecute:!0})})}catch(e){this.setState({controllerOutput:e.toString(),canExecute:!0})}}}]),t}(u.Component);t.default=I}).call(this)}finally{}},169:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(25),l=e(u),c=n(91),s=e(c),f=n(53),p=e(f),d=n(88),v=e(d),h=n(79),y=30,b=30,m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){return l.default.createElement("div",{className:(0,p.default)(v.default.rover,v.default[this.props.rover.orientation]),style:{left:h.WIDTH*(this.props.rover.xCoordinate/this.props.plateauXCoordinate)-y/2,bottom:h.HEIGHT*(this.props.rover.yCoordinate/this.props.plateauYCoordinate)-b/2}},l.default.createElement("img",{src:s.default,width:y,height:b}))}}]),t}(u.Component);m.propTypes={rover:u.PropTypes.shape({xCoordinate:u.PropTypes.number.isRequired,yCoordinate:u.PropTypes.number.isRequired,orientation:u.PropTypes.string.isRequired}).isRequired,plateauXCoordinate:u.PropTypes.number.isRequired,plateauYCoordinate:u.PropTypes.number.isRequired},m.defaultProps={plateauXCoordinate:1,plateauYCoordinate:1},t.default=m}).call(this)}finally{}},170:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}var t=n(25),r=e(t),o=n(54),a=e(o),i=n(168),u=e(i);a.default.render(r.default.createElement(u.default,null),document.getElementById("app"))}).call(this)}finally{}},171:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(173),u=e(i),l=n(174),c=e(l),s=function(){function e(){o(this,e),this.roverInfos=[],this.plateau=null}return a(e,[{key:"printRoversLocation",value:function(){var e=[];return this.roverInfos.forEach(function(t){var n=t.rover;e.push(n.xCoordinate+" "+n.yCoordinate+" "+n.orientation)}),e.join("\n")}},{key:"executeInstruction",value:function(e){var t=this,n=this.instructionSplitAndTrim(e),r=n.plateauInstructions;this.setPlateauFromInstruction(r),n.roverInstructions.forEach(function(e){t.setRoverFromInstruction(e)}),this.roverInfos.forEach(function(e){t.moveRoverFromInstruction(e.rover,e.moveRoverInstruction,t.canMoveStrategy)})}},{key:"validateSetPlateauInstruction",value:function(e){return/^\d+\s+\d+$/.test(e)}},{key:"validateSetRoverInstruction",value:function(e){return/^\d+\s\d+\s[ENSW]$/.test(e)}},{key:"validateMoveRoverInstruction",value:function(e){return/^[RLM]+$/.test(e)}},{key:"instructionSplitAndTrim",value:function(e){var t=e.trim().split("\n");t=t.filter(function(e){return""!==e.trim()});for(var n=t[0],r=t.slice(1),o=[],a=0;a<r.length;a+=2)o.push({setRoverInstruction:r[a],moveRoverInstruction:r[a+1]});return{plateauInstructions:n,roverInstructions:o}}},{key:"setPlateauFromInstruction",value:function(e){if(!this.validateSetPlateauInstruction(e))throw Error('Plateau instructions is not correct: "'+e+'"');var t=e.split(" ").map(function(e){return parseInt(e)});this.plateau=new(Function.prototype.bind.apply(u.default,[null].concat(r(t))))}},{key:"setRoverFromInstruction",value:function(e){var t=e.setRoverInstruction,n=e.moveRoverInstruction;if(!this.plateau)throw Error("Plateau is not set, you can't set rover");var o=t.split(" ");if(o=o.slice(0,2).map(function(e){return parseInt(e)}).concat(o[2]),this.plateau.xCoordinate<o[0]||this.plateau.yCoordinate<o[1])throw Error("Rover can't be set out of Plateau");if(!this.validateSetRoverInstruction(t))throw Error('Rover set instruction is not correct: "'+t+'"');if(!this.validateMoveRoverInstruction(n))throw Error('Rover move instruction is not correct: "'+n+'"');this.roverInfos.push({rover:new(Function.prototype.bind.apply(c.default,[null].concat(r(o)))),moveRoverInstruction:n})}},{key:"canMoveStrategy",value:function(e,t,n){var r=n.xCoordinate,o=n.yCoordinate,a=e.xCoordinate,i=e.yCoordinate,u=e.orientation,l={xCoordinate:a,yCoordinate:i,orientation:u};e.move.apply(l);var c=l.xCoordinate<=r&&l.yCoordinate<=o&&l.xCoordinate>=0&&l.yCoordinate>=0,s=!0,f=t.indexOf(e);return t.slice(0,f).forEach(function(e){e.xCoordinate===l.xCoordinate&&e.yCoordinate===l.yCoordinate&&(s=!1)}),c&&s}},{key:"moveRoverFromInstruction",value:function(e,t,n){var r=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var l=i.value;switch(l){case"M":n?n(e,this.roverInfos.map(function(e){return e.rover}),this.plateau)&&e.move():e.move();break;case"L":e.turnLeft();break;case"R":e.turnRight();break;default:throw Error('Unknown Rover move instruction: "'+l+'"')}}}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}}}]),e}();t.default=s}).call(this)}finally{}},172:function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(171),l=e(u),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),i(t,[{key:"executeInstructions",value:function(e,t){function n(e){var t=Promise.resolve();return e.forEach(function(e){t=t.then(function(){return e()})}),t}var r=this,o=this,a=this.instructionSplitAndTrim(e),i=a.plateauInstructions;this.setPlateauFromInstruction(i),a.roverInstructions.forEach(function(e){r.setRoverFromInstruction(e),t(o.roverInfos,o.plateau)});var u=this.roverInfos.map(function(e){return function(){return o.moveRoverFromInstructions(e.rover,e.moveRoverInstruction,o.canMoveStrategy,t)}});return n(u)}},{key:"moveRoverFromInstructions",value:function(e,t,n,r){var o=this,a=0;return new Promise(function(i,u){function l(){return a>=t.length?i():(o.moveRoverFromInstruction(e,t[a],n),r(o.roverInfos,o.plateau),void setTimeout(function(){a++,l()},1e3))}l()})}}]),t}(l.default);t.default=c}).call(this)}finally{}},173:function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function t(n,r){if(e(this,t),!Number.isInteger(n)||!Number.isInteger(r))throw new Error("Plateau coordinates must be integers");if(n<=0||r<=0)throw new Error("Plateau coordinates must be positive");this.xCoordinate=n,this.yCoordinate=r};t.default=n}).call(this)}finally{}},174:function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=["W","N","E","S"],o=function(){function t(n,o,a){if(e(this,t),!Number.isInteger(n)||!Number.isInteger(o))throw new Error("Rover coordinates must be integers");if(n<0||o<0)throw new Error("Rover coordinates must be non-negative");if(r.indexOf(a)<0)throw new Error('Rover orientation must be one of "W, N, E, S"');this.xCoordinate=n,this.yCoordinate=o,this.orientation=a}return n(t,[{key:"move",value:function(){switch(this.orientation){case"W":this.xCoordinate--;break;case"N":this.yCoordinate++;break;case"E":this.xCoordinate++;break;case"S":this.yCoordinate--}}},{key:"turnLeft",value:function(){var e=r.indexOf(this.orientation)-1;this.orientation=r[e<0?e+4:e]}},{key:"turnRight",value:function(){var e=r.indexOf(this.orientation)+1;this.orientation=r[e>3?e-4:e]}}]),t}();t.default=o}).call(this)}finally{}},186:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqAgMAAAC4rSHIAAAACVBMVEUAAAD///////9zeKVjAAAAA3RSTlMAqOFLpSDRAAAAH0lEQVR4AWNgYBBlgAKas0VDs0IhIAAXmxb2jrIxAQBpfg2EDJRI9wAAAABJRU5ErkJggg=="}});
//# sourceMappingURL=index.js.map?356a025e694cb6741cb7